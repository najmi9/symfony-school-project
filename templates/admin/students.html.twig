{% extends 'admin/base.html.twig' %}


{% block body%}

 {% for item in app.flashes('message') %}
    <div class="alert alert-info">
      
      {{ item }}
    </div>
  {% endfor %}
      <h1>
      	Les étudiants 
      </h1>
      <table class="table">
      	<thead>
      	<th></th>
      	<th> Name</th>
      	<th>Email</th>
      	<th>Etat</th>
      	<th> Bac Suité </th>
      	<th> Niveau Scolaire </th>
      	<th>notes</th>

      	
      	<th></th>
      	</thead>
      	<tbody>

      {% for item in students %}

      	<tr>
      	
      		
           <td> <img src="{{ item.stdperinfo.picture }}" /></td>
           <td> {{ item.stdperinfo.name}} </td>
           <td>{{ item.stdperinfo.email }}</td>
           <td>

            {% if item.profile.state  == "REJECTED" %}
             <span style="background-color: red; 
             font-weight: bold; padding: 3px;
             "> {{ item.profile.state }}</span>
            {% elseif item.profile.state  == "ACCEPTED" %}
              <span style="background-color: green;
               font-weight: bold; padding: 3px;">
                {{ item.profile.state }}
              </span>
            {% else %}
               <span style="background-color: orange;
   font-weight: bold; padding: 3px;
               "> {{ item.profile.state }}</span>
            {% endif %}

          </td>
           <td>  {{ item.stdchoice.bactype }} </td>
           <td>  {{ item.stdcv.level}}  </td>
           <td>  {{ item.profile.notes}} </td>

           <td>
            <a href=" {{ path('admin_delete_student', { 'id': item.id }) }} " 
            class="btn btn-danger sm" id="js-action" 
            onClick="deleteUser()" 
            ><i class="fas fa-trash"></i></a>
            <a href=" {{ path('admin_edit_profile_student', {'id': item.id })}} " class="btn btn-warning sm"><i class="fas fa-edit"></i></a>
            <a href="{{ path('profile', {'id': item.id }) }}"
            class="btn btn-primary sm"><i class="fas fa-eye"></i></a>
           </td>
         </tr> 
      {% endfor %}
</tbody>

      </table>
  
  {% endblock %}
  {% block javascripts %}
     <script type="text/javascript">

     function deleteUser() {
       alert("Are you sure that you want to remove that user !");
     }
        const btn = document.getElementById('js-action').addEventListener('click', deleteUser);
     </script>
  {% endblock %}